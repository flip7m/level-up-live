# ============================================
# Level Up Live - Portainer Configuration
# ============================================
# Use este arquivo como referência para as variáveis
# de ambiente ao configurar a Stack no Portainer

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=8881
NODE_ENV=production

# ============================================
# PATHS (relative to /app inside container)
# ============================================
ASSETS_PATH=./assets
DATA_PATH=./data
MUSIC_PATH=./assets/music
SCENES_PATH=./assets/scenes
SOUNDS_PATH=./assets/sounds

# ============================================
# POSTGRESQL DATABASE
# ============================================
# IMPORTANT: Use 'postgres' as hostname (Docker service name)
# NOT 'localhost' or 'umbrel.local'

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=levelup_live
POSTGRES_USER=levelup_user
POSTGRES_PASSWORD=levelup_dev_2024

# Full database URL
DATABASE_URL=postgresql://levelup_user:levelup_dev_2024@postgres:5432/levelup_live

# ============================================
# AUDIO CONFIGURATION
# ============================================
DEFAULT_MUSIC_VOLUME=0.7
DEFAULT_SFX_VOLUME=0.8

# ============================================
# XP RATES (test mode)
# ============================================
XP_RATE_AUDIO_DROP=2
XP_RATE_AUDIO_BUILD=1

# ============================================
# PORTAINER-SPECIFIC VARIABLES
# ============================================
# These control external port mappings
# You can override these in Portainer Stack environment variables

POSTGRES_PORT_EXTERNAL=8010
BACKEND_PORT=8881
LIVE_VIEW_PORT=8020

# ============================================
# NOTES FOR PORTAINER
# ============================================
# 1. POSTGRES_PASSWORD should be changed to something secure
#    Example: "MySecurePass123!@#" (minimum 8 chars with uppercase, lowercase, numbers, symbols)
#
# 2. POSTGRES_HOST must be 'postgres' (the service name in docker-compose)
#    Containers communicate via Docker network, not localhost
#
# 3. All paths are relative to /app (inside the container)
#    The bind mounts map:
#    - ./assets → /app/assets
#    - ./data → /app/data
#
# 4. Ports:
#    - 8881: Backend API + WebSocket + Frontend (control panel)
#    - 8020: Live View server (for OBS capture)
#    - 8010: PostgreSQL external port
#
# 5. If any port is already in use on Umbrel, change POSTGRES_PORT_EXTERNAL
#    to a different available port (e.g., 8012, 8015, etc.)
#
# 6. Database migrations run automatically on backend start
#    (via: npm run db:migrate)
#
# 7. No pgAdmin - access database via CLI when needed:
#    docker exec levelup-postgres psql -U levelup_user -d levelup_live
# ============================================
